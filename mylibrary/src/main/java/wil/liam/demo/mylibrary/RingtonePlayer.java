package wil.liam.demo.mylibrary;import android.content.Context;import android.media.MediaPlayer;public class RingtonePlayer {    private static final String TAG = "RingtonePlayer";    private MediaPlayer mediaPlayer;    private RingtonePlayer(){        mediaPlayer = null;    }    public static RingtonePlayer Instance(){        return SingletonHolder.INSTANCE;    }    public void stop() {        if (mediaPlayer == null) return;        mediaPlayer.stop();        mediaPlayer.release();        mediaPlayer = null;    }    public void play(Context context, int resId, final boolean repeat) {        stop();        mediaPlayer = MediaPlayer.create(context, resId);        if (mediaPlayer == null) return;        mediaPlayer.setLooping(repeat);        mediaPlayer.start();        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {            @Override            public void onCompletion(MediaPlayer mediaPlayer) {                if (!repeat)                    stop();            }        });    }    private static class SingletonHolder {        private static final RingtonePlayer INSTANCE = new RingtonePlayer();        private SingletonHolder(){        }    }}